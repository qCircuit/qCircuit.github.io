<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Courses</title>   
        <style>
            html body {
                font-family: 'Roboto Mono', sans-serif;
                background-color: white;
            }
            :root {
                --accent: gray;
                --border-width:  5px ;
            }
        </style>
        <link rel="stylesheet" href="https://qCircuit.github.io/css/main.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto%20Mono">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"> 
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
        <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <meta name="generator" content="Hugo 0.96.0" />
    </head>
    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand visible-xs" href="#">CV</a>
                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                        <ul class="nav navbar-nav">
                                <li><a href="../../index.html">Home</a></li>
                                <li><a href="../../posts/index.html/">Posts</a></li>
                                <li><a href="../../resume/index.html">Resume</a></li>
                                <li><a href="../../learning/index.html">Learning Resources</a></li>
                                <li><a href="../../courses/index.html">Education</a></li>
                        </ul>
                        <ul class="nav navbar-nav navbar-right">
                            <li class="navbar-icon"><a href="mailto:tensorflowq@gmail.com"><i class="fas fa-envelope"></i></a></li>
                            <li class="navbar-icon"><a href="https://github.com/qCircuit/"><i class="fab fa-github"></i></a></li>
                            <li class="navbar-icon"><a href="https://twitter.com/GlebKabanov/"><i class="fab fa-twitter"></i></a></li>
                            <li class="navbar-icon"><a href="https://www.linkedin.com/in/Gleb-Kabanov"><i class="fab fa-linkedin"></i></a></li>
                        </ul>
                </div>
            </div>
        </nav>
        <main>
            <div>
                <u><h1>Forecasting the close price of a financial asset</h1></u>
            </div>
            <div align="start" class="content">
                <p>The data for the model includes two streams: numeric data and text data. The numeric data consists of prices and volume for the target stock, as well as prices and volume for related stocks and numeric values for financial indicators. On the other hand, the text data comprises news, reports, and social media posts. The model's fitting is based on several financial objects, including stocks, financial market indices, raw market indices, and currencies. The use case of the model is to refit it at the end of a day and get forecast for the close price the next day. The step is one hour.</p>
                <p>In the analysis of numeric features, I begin by selecting one of the blue chip stocks. To obtain the necessary data, I utilize the yahoo finance API package. I initiate a ticker class, which consists of properties such as the stock symbol and historical price data. The dataset can be obtained by either downloading the data from <a href="https://pypi.org/project/yfinance/">yahoo finance</a> or reading the data if it has already been downloaded.</p>
                <pre>
                    <code>
class Ticker:
    def __init__(self, symbol:str):
        self.symbol = symbol
        self.history = pd.DataFrame(dtype=object, columns=['Open','High','Low','Close','Adj Close','Volume'])
    
    def yf_download(self, start_date: str, end_date: str, interval: str):
        self.history = yf.download(
            tickers=self.symbol, 
            start=start_date, 
            end=end_date, 
            interval=interval
        )   

        path = f"{configur.data_path}{self.symbol}_{start_date}_{end_date}.parquet"
        self.history.to_parquet(path, index=False)
        print(f"File saved at {path}")

        return self.history
    
    def upload_history(self, start_date: str, end_date: str):
        path = f"{configur.data_path}{self.symbol}_{start_date}_{end_date}.parquet"
        self.history = pd.read_parquet(path)
        print(f"History loaded: {start_date} - {end_date}")

        return self.history
                    </code>
                </pre>
                <p>The resulting dataframe contains source data for the further calculations:</p>
                <img src="images/fintech_raw_data.png" alt="raw dataframe">
            </div>
        </main>
        <footer>
            <p class="copyright text-muted">Â© All rights reserved. Powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a>.</p>
        </footer>
    </body>

</html>